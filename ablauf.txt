1.

2.

docker run --name mariaDbContainer -e MYSQL_ROOT_PASSWORD=pass -p 3308:3308 -d docker.io/library/mariadb:10.4
docker ps

3.

DB_IP=$(docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' mariaDbContainer)
echo "$(docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' mariaDbContainer)\"" >> db_credentials.env
apt-get update
apt install mariadb-client-core-10.1 -y
clear
mysql -h $DB_IP -u root -p
SHOW DATABASES;
CREATE DATABASE daten;
SHOW DATABASES;
\q

4.



5.

virtualenv -p /usr/bin/python3.8 venv && source venv/bin/activate
pip install python-dotenv pandas SQLAlchemy pymysql
clear

TODO hier die Versionen noch angeben
dot 0.19.1
pan 1.3.4
sql 1.4.25
py 1.0.2

./venv/bin/python3
from dotenv import load_dotenv
import os
import pandas
import sqlalchemy

6.

df = pandas.read_json("sensor_data.json", convert_dates=['createdAt'])
df

7.

load_dotenv("db_credentials.env")
engine_string = f"mysql+pymysql://{os.getenv('DB_USER')}:{os.getenv('DB_PASSWORD')}@{os.getenv('DB_HOST')}/{os.getenv('DB_DATABASE')}"
engine = sqlalchemy.create_engine(engine_string)

8.

df.to_sql('data', con=engine, index=False, if_exists='replace')
engine.dispose()
quit()

9.

mysql -h $DB_IP -u root -p
use daten
SHOW TABLES;
SELECT * FROM data;
\q

TODO finish mit Danke und den Quellen
TODO intro
TODO